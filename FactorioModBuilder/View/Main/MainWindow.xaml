<Window x:Class="FactorioModBuilder.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:util="clr-namespace:WpfUtils;assembly=WpfUtils"
        Title="{Binding Path=AppTitle, Mode=OneWay}" 
        Height="{Binding Path=AppHeight, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        Width="{Binding Path=AppWidth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        Top="{Binding Path=AppTop, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        Left="{Binding Path=AppLeft, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Menu/ContextMenuTemplate.xaml"/>
                <ResourceDictionary Source="../ToolTip/ToolTipTemplate.xaml"/>
                <ResourceDictionary Source="SolutionExplorer.xaml"/>
                <ResourceDictionary Source="MainMenu.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <util:BindingProxy x:Key="proxy" Data="{Binding}"/>
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="25"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>
        <!-- Main Menu -->
        <ContentPresenter Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="100" 
                          Content="{Binding Path=Data.MainMenu, Source={StaticResource proxy}}" 
                          ContentTemplate="{StaticResource mainMenu}"/>
        <!-- Solution Explorer -->
        <ContentPresenter Grid.Row="1" Grid.Column="0" Margin="5" 
                          Content="{Binding Path=Data.SolutionExplorer, Source={StaticResource proxy}}"/>
    </Grid>
</Window>
